<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />
  <title>{% block title %}TODO (Python){% endblock %}</title>

  <!-- –®—Ä–∏—Ñ—Ç -->
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
  />

  <!-- Flatpickr (–∫–∞–ª–µ–Ω–¥–∞—Ä—å + –≤—Ä–µ–º—è) -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
  />

  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar">
      <div class="sidebar-logo">
        <span class="logo-dot"></span>
        <span class="logo-text">TodoFlow</span>
      </div>
      <nav class="sidebar-nav">
        <a href="/?user_id={{ user_id|default('0') }}" class="nav-link">
          üìù –ú–æ–∏ –∑–∞–¥–∞—á–∏
        </a>
      </nav>

      <div class="sidebar-footer">
        <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ —á–µ—Ä–µ–∑ Telegram –∏ –≤–µ–±.</p>
        <p class="sidebar-note">
          –ö–æ–º–∞–Ω–¥–∞ –≤ –±–æ—Ç–µ: <code>/site</code>
        </p>
      </div>
    </aside>

    <div class="app-main">
      <header class="header">
        <div>
          <h1>TODO Dashboard</h1>
          <p class="header-subtitle">
            –°–∏–Ω—Ö—Ä–æ–Ω —Å Telegram-–±–æ—Ç–æ–º. –î–µ–¥–ª–∞–π–Ω—ã, —Å—Ç–∞—Ç—É—Å—ã, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è.
          </p>
        </div>
      </header>

      <main class="container">
        {% block content %}{% endblock %}
      </main>
    </div>
  </div>

  <!-- Flatpickr -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const inputs = document.querySelectorAll(".js-datetime");

      if (inputs.length > 0 && window.flatpickr) {
        inputs.forEach((input) => {
          window.flatpickr(input, {
            enableTime: true,
            time_24hr: true,
            dateFormat: "Y-m-d H:i",
            allowInput: true, // –º–æ–∂–Ω–æ —Ä—É–∫–∞–º–∏ –ø–æ–ø—Ä–∞–≤–∏—Ç—å, –µ—Å–ª–∏ –æ—á–µ–Ω—å –Ω–∞–¥–æ
          });
        });
      }
    });
  </script>
</body>
</html>
